<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>关键词云图</title>
    #parse("sys/mulheader.html")
    <link rel="stylesheet" href="${rc.contextPath}/statics/css/bigdata-style.css">
    <script src='${rc.contextPath}/statics/libs/echarts.simple.js'></script>
    <script src="${rc.contextPath}/statics/libs/echarts-wordcloud.js"></script>
    <link rel="stylesheet" href="${rc.contextPath}/statics/css/dataTables/datatables.min.css">
    <script src="${rc.contextPath}/statics/libs/datatables.min.js"></script>
    <style type="text/css">
        #keywords_table tr td,th{
            font-size: 18px;
        }
    </style>
</head>
<body>
<div id="wrapper">
    <div class="wrapper wrapper-content">
        <div class="row">
            <div class="col-lg-6 col-sm-6 col-md-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>关键词云图</h5>
                        <span class="label label-primary"></span>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content inspinia-timeline" style="display: block;height: 530px;">
                        <div id='wordCloud' style="width: 150%; height: 120%;margin-top: -7%;margin-left: -25%;"></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-sm-6 col-md-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>关键词明细</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="table_basic.html#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content" style="height: 530px;">
                        <table class="table table-striped" id="keywords_table">
                            <thead>
                            <tr>
                                <th>#</th>
                                <th>中文关键词</th>
                                <th>次数</th>
                                <th>英文关键词</th>
                                <th>次数</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>机器人</td>
                                <td>2860</td>
                                <td>Sophia</td>
                                <td>4307</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>公民</td>
                                <td>2202</td>
                                <td>Saudi</td>
                                <td>4099</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>身份</td>
                                <td>1661</td>
                                <td>Arabia</td>
                                <td>3453</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>授予</td>
                                <td>952</td>
                                <td>citizenship</td>
                                <td>2348</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>沙特</td>
                                <td>916</td>
                                <td>named</td>
                                <td>928</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>人类</td>
                                <td>882</td>
                                <td>citizen</td>
                                <td>908</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>索菲亚</td>
                                <td>611</td>
                                <td>bestows</td>
                                <td>719</td>
                            </tr>
                            <tr>
                                <td>8</td>
                                <td>首个</td>
                                <td>568</td>
                                <td>granted</td>
                                <td>504</td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td>第一个</td>
                                <td>507</td>
                                <td>rights</td>
                                <td>459</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>世界</td>
                                <td>506</td>
                                <td>humanoid</td>
                                <td>436</td>
                            </tr>
                            <tr>
                                <td>11</td>
                                <td>首位</td>
                                <td>486</td>
                                <td>women</td>
                                <td>417</td>
                            </tr>
                            <tr>
                                <td>12</td>
                                <td>史上</td>
                                <td>387</td>
                                <td>granted</td>
                                <td>403</td>
                            </tr>
                            <tr>
                                <td>13</td>
                                <td>国籍</td>
                                <td>284</td>
                                <td>future</td>
                                <td>398</td>
                            </tr>
                            <tr>
                                <td>14</td>
                                <td>未来</td>
                                <td>263</td>
                                <td>investment</td>
                                <td>396</td>
                            </tr>
                            <tr>
                                <td>15</td>
                                <td>拥有</td>
                                <td>252</td>
                                <td>initiative</td>
                                <td>365</td>
                            </tr>
                            <tr>
                                <td>16</td>
                                <td>开口</td>
                                <td>242</td>
                                <td>speaks</td>
                                <td>362</td>
                            </tr>
                            <tr>
                                <td>17</td>
                                <td>可怕</td>
                                <td>213</td>
                                <td>meet</td>
                                <td>335</td>
                            </tr>
                            <tr>
                                <td>18</td>
                                <td>惊呆</td>
                                <td>203</td>
                                <td>la</td>
                                <td>280</td>
                            </tr>
                            <tr>
                                <td>19</td>
                                <td>毁灭</td>
                                <td>202</td>
                                <td>de</td>
                                <td>257</td>
                            </tr>
                            <tr>
                                <td>20</td>
                                <td>投资</td>
                                <td>198</td>
                                <td>people</td>
                                <td>215</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <script>
            var chart = echarts.init(document.getElementById('wordCloud'));

            var keywords = {
                "机器人":2860,
                "公民":2202,
                "身份":1661,
                "授予":952,
                "沙特":916,
                "人类":882,
                "索菲亚":611,
                "首个":568,
                "第一个":507,
                "世界":506,
                "首位":486,
                "史上":387,
                "国籍":284,
                "未来":263,
                "拥有":252,
                "开口":242,
                "可怕":213,
                "惊呆":203,
                "毁灭":202,
                "投资":198,
                "索菲娅":195,
                "对答如流":190,
                "大会":189,
                "威胁论":185,
                "怼":184,
                "首次":182,
                "沙特阿拉伯":170,
                "计划":166,
                "美女":158,
                "全场":155,
                "问":149,
                "女性":146,
                "时间":144,
                "电影":142,
                "好莱坞":137,
                "回":135,
                "思维":134,
                "敏捷":132,
                "看太多":128,
                "全球":124,
                "记住":120,
                "名字":118,
                "历史":117,
                "人工智能":116,
                "先例":114,
                "我会":103,
                "积极向上":98,
                "反问":97,
                "诞生":95,
                "简单":94,
                "全文":93,
                "犯人":90,
                "不犯":90,
                "自我意识":88,
                "恐":87,
                "细思极":87,
                "视频":74,
                "国家":62,
                "全世界":58,
                "面对":57,
                "真的":55,
                "马斯克":53,
                "采访":53,
                "刚刚":52,
                "星球":52,
                "扬言":49,
                "科技":48,
                "首开":47,
                "吃惊":45,
                "揭秘":44,
                "网友":41,
                "意味着":40,
                "地球":39,
                "被授":38,
                "生活":37,
                "震惊":37,
                "回答":37,
                "害怕":37,
                "正式":36,
                "权利":35,
                "回应":35,
                "类人":32,
                "倡议":32,
                "转发":31,
                "利雅得":31,
                "网红":30,
                "微博":30,
                "合法":29,
                "表情":29,
                "说话":27,
                "robot":4413,
                "sophia":4307,
                "saudi":4099,
                "arabia":3453,
                "citizenship":2348,
                "named":928,
                "citizen":908,
                "bestows":719,
                "granted":504,
                "rights":459,
                "humanoid":436,
                "women":417,
                "grants":403,
                "future":398,
                "investment":396,
                "initiative":365,
                "speaks":362,
                "meet":335,
                "la":280,
                "de":257,
                "people":215,
                "con":207,
                "en":202,
                "video":198,
                "el":164,
                "country":162,
                "outraged":160,
                "reason":122,
                "primer":120,
                "grant":105,
                "elon":93,
                "musk":93,
                "woman":91,
                "official":90,
                "female":90,
                "ciudadano":88,
                "lifelike":86,
                "ai":86,
                "ms":85,
                "derechos":83,
                "pasa":81,
                "arab":81,
                "convertirse":81,
                "los":81,
                "humanos":80,
                "declared":80,
                "mujeres":79,
                "bromear":78,
                "acabar":78,
                "arabian":76,
                "nonhuman":74,
                "human":73,
                "al":72,
                "fii":69,
                "otorga":69,
                "receive":66,
                "trollea":63,
                "news":54,
                "tiene":54,
                "mxico":54,
                "las":53,
                "dar":53,
                "reloaded":52,
                "real":49,
                "st":48,
                "interview":45,
                "denies":45,
                "ponencia":42,
                "obtuvo":40,
                "conoce":40,
                "va":37,
                "conference":35,
                "selfaware":35,
                "watch":34,
                "pertama":32,
                "humans":32,
                "nation":31
            };

            var data = [];
            for (var name in keywords) {
                data.push({
                    name: name,
                    value: Math.sqrt(keywords[name])
                })
            }

            var maskImage = new Image();

            var option = {
                series: [ {
                    type: 'wordCloud',
                    sizeRange: [15, 55],
                    rotationRange: [-90, 90],
                    rotationStep: 45,
                    gridSize: 5,
                    shape: 'pentagon',
                    maskImage: maskImage,
                    drawOutOfBound: false,
                    textStyle: {
                        normal: {
                            color: function () {
                                return 'rgb(' + [
                                            Math.round(Math.random() * 160),
                                            Math.round(Math.random() * 160),
                                            Math.round(Math.random() * 160)
                                        ].join(',') + ')';
                            }
                        },
                        emphasis: {
                            color: 'red'
                        }
                    },
                    data: data.sort(function (a, b) {
                        return b.value  - a.value;
                    })
                } ]
            };

            maskImage.onload = function () {
                option.series[0].maskImage
                chart.setOption(option);
            };

            maskImage.src = '${rc.contextPath}/statics/pic/tuoyuan.png';
            //            maskImage.src = './wordCloud_circle.png';

            chart.setOption(option);
            window.onresize = chart.resize;

        </script>
    </div>
</div>
<script>
    var change_category = new Vue({
        el: '#info_category',
        methods: {
            show_text: function () {
                $('#text').addClass("info_bottom");
                $('#video').removeClass("info_bottom");

                $('#info_video').attr("class", "info_hidden");
                $('#info_text').attr("class", "info_show");
            },
            show_video: function () {
                $('#video').addClass("info_bottom");
                $('#text').removeClass("info_bottom");

                $('#info_text').attr("class", "info_hidden");
                $('#info_video').attr("class", "info_show");
            }
        }
    });
</script>
<script>
    var chart = echarts.init(document.getElementById('wordCloud'));

    var keywords = {
        "机器人":2860,
        "公民":2202,
        "身份":1661,
        "授予":952,
        "沙特":916,
        "人类":882,
        "索菲亚":611,
        "首个":568,
        "第一个":507,
        "世界":506,
        "首位":486,
        "史上":387,
        "国籍":284,
        "未来":263,
        "拥有":252,
        "开口":242,
        "可怕":213,
        "惊呆":203,
        "毁灭":202,
        "投资":198,
        "索菲娅":195,
        "对答如流":190,
        "大会":189,
        "威胁论":185,
        "怼":184,
        "首次":182,
        "沙特阿拉伯":170,
        "计划":166,
        "美女":158,
        "全场":155,
        "问":149,
        "女性":146,
        "时间":144,
        "电影":142,
        "好莱坞":137,
        "回":135,
        "思维":134,
        "敏捷":132,
        "看太多":128,
        "全球":124,
        "记住":120,
        "名字":118,
        "历史":117,
        "人工智能":116,
        "先例":114,
        "我会":103,
        "积极向上":98,
        "反问":97,
        "诞生":95,
        "简单":94,
        "全文":93,
        "犯人":90,
        "不犯":90,
        "自我意识":88,
        "恐":87,
        "细思极":87,
        "视频":74,
        "国家":62,
        "全世界":58,
        "面对":57,
        "真的":55,
        "马斯克":53,
        "采访":53,
        "刚刚":52,
        "星球":52,
        "扬言":49,
        "科技":48,
        "首开":47,
        "吃惊":45,
        "揭秘":44,
        "网友":41,
        "意味着":40,
        "地球":39,
        "被授":38,
        "生活":37,
        "震惊":37,
        "回答":37,
        "害怕":37,
        "正式":36,
        "权利":35,
        "回应":35,
        "类人":32,
        "倡议":32,
        "转发":31,
        "利雅得":31,
        "网红":30,
        "微博":30,
        "合法":29,
        "表情":29,
        "说话":27,
        "robot":4413,
        "sophia":4307,
        "saudi":4099,
        "arabia":3453,
        "citizenship":2348,
        "named":928,
        "citizen":908,
        "bestows":719,
        "granted":504,
        "rights":459,
        "humanoid":436,
        "women":417,
        "grants":403,
        "future":398,
        "investment":396,
        "initiative":365,
        "speaks":362,
        "meet":335,
        "la":280,
        "de":257,
        "people":215,
        "con":207,
        "en":202,
        "video":198,
        "el":164,
        "country":162,
        "outraged":160,
        "reason":122,
        "primer":120,
        "grant":105,
        "elon":93,
        "musk":93,
        "woman":91,
        "official":90,
        "female":90,
        "ciudadano":88,
        "lifelike":86,
        "ai":86,
        "ms":85,
        "derechos":83,
        "pasa":81,
        "arab":81,
        "convertirse":81,
        "los":81,
        "humanos":80,
        "declared":80,
        "mujeres":79,
        "bromear":78,
        "acabar":78,
        "arabian":76,
        "nonhuman":74,
        "human":73,
        "al":72,
        "fii":69,
        "otorga":69,
        "receive":66,
        "trollea":63,
        "news":54,
        "tiene":54,
        "mxico":54,
        "las":53,
        "dar":53,
        "reloaded":52,
        "real":49,
        "st":48,
        "interview":45,
        "denies":45,
        "ponencia":42,
        "obtuvo":40,
        "conoce":40,
        "va":37,
        "conference":35,
        "selfaware":35,
        "watch":34,
        "pertama":32,
        "humans":32,
        "nation":31
    };

    var data = [];
    for (var name in keywords) {
        data.push({
            name: name,
            value: Math.sqrt(keywords[name])
        })
    }

    var maskImage = new Image();

    var option = {
        series: [ {
            type: 'wordCloud',
            sizeRange: [15, 55],
            rotationRange: [-90, 90],
            rotationStep: 45,
            gridSize: 5,
            shape: 'pentagon',
            maskImage: maskImage,
            drawOutOfBound: false,
            textStyle: {
                normal: {
                    color: function () {
                        return 'rgb(' + [
                                    Math.round(Math.random() * 160),
                                    Math.round(Math.random() * 160),
                                    Math.round(Math.random() * 160)
                                ].join(',') + ')';
                    }
                },
                emphasis: {
                    color: 'red'
                }
            },
            data: data.sort(function (a, b) {
                return b.value  - a.value;
            })
        } ]
    };

    maskImage.onload = function () {
        option.series[0].maskImage
        chart.setOption(option);
    };

    maskImage.src = '${rc.contextPath}/statics/pic/tuoyuan.png';
    //            maskImage.src = './wordCloud_circle.png';

    chart.setOption(option);
    window.onresize = chart.resize;

</script>
<script>
    $(document).ready(function(){
        $('#keywords_table').DataTable({
            searching: false,
            ordering: false, /*禁用排序功能*/
            /*bInfo: false,*/

            bLengthChange: false, /*禁用Show entries*/
            info: false,
            oLanguage: {
                sLengthMenu: "每页 _MENU_ 行数据",
                oPaginate: {
                    sNext: '<i class="fa fa-chevron-right" ></i>', /*图标替换上一页,下一页*/
                    sPrevious: '<i class="fa fa-chevron-left" ></i>'
                }
            }
        });
    });
</script>
</body>
</html>