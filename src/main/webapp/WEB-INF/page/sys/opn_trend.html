<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    #parse("sys/mulheader.html")
    <link rel="stylesheet" href="${rc.contextPath}/statics/css/bigdata-style.css">
    <script src="${rc.contextPath}/statics/libs/echarts.min.js"></script>
</head>
<body>
<div id="wrapper">
    <div class="wrapper wrapper-content">
        <div class="row"> <!-- /.row -->
            <div class="col-lg-12 col-sm-12 col-md-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>事件传播趋势图</h5>
                        <span class="label label-primary"></span>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content inspinia-timeline" style="display: block;">
                        <h1>这里是传播趋势图</h1>
                        <div id="opn-trend"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById("opn-trend"));

    // 指定图表的配置项和数据
    var base = +new Date(2017,9,26,7);
    var oneHour = 3600 * 1000;
    var date = [];
    //    var data_total = [11,11,8,2,10,15,11,18,12,8,18,27,29,20,18,43,34,45,33,22,19,23,32,20,362,59,56,25,32,45,57,47,98,105,74,88,80,99,93,76,70,85,37,43,52,55,29,33,28,34,23,23,23,29,33,20,31,23,22,19,33,34,34,26,36,24,56,25,26,25,36,19,18,23,33,16,29,22,22,16,26,20,16,26,27,26,52,22,24,24,17,25,12,14,12,14,16,25,17,13,13,14,8,24,11,10,16,18,18,14,14,8,16,12,17,18,21,10,5,10,6,8,6,8,16,8,20,26,17,7,7,16,14,18,11,29,22,22,23,23,8,9,5,8,11,5,1,7,12,11,7,6,18,6,14,7,7,11,8,7,24,17,13,4,6,7,9,3,2,5,5,7,5,5,7,6,7,4,4,7,4,4,4,10,3,1,3,6,9,7,4,6,2,5,5,4,8,6,2,4,5,3,4,2,4,3,1,3,4,5,1,7,11,14,3,8,2,6,5,6,4,2,3,5,1,4,5,3,5,5,9,0,2,1,11,10,5,8,4,3,2,5,0,8,0,2,3,3,3,3,1,2,8,2,3,2,6,2,3,9,7,6,4,6];
    //微博数*10 + Twitter数
    var data_total = [11,11,8,2,10,15,11,18,12,8,18,54,38,47,36,61,43,45,51,31,19,23,68,47,380,68,92,61,68,144,228,209,404,339,236,250,170,144,210,85,79,85,46,43,61,55,38,60,46,43,77,95,59,83,87,65,76,59,40,37,132,106,115,62,54,24,56,25,26,34,45,28,36,77,141,79,110,67,40,25,71,47,34,53,36,35,70,22,24,24,17,25,12,14,12,32,16,52,35,31,76,32,26,60,11,28,16,27,18,14,14,8,16,12,26,18,30,10,5,19,15,8,6,8,16,17,20,26,26,16,7,34,23,27,11,29,22,22,23,23,8,9,5,8,11,5,1,16,21,20,7,6,36,24,23,7,16,20,8,7,24,17,13,4,6,7,9,3,2,5,5,7,5,5,7,24,16,4,4,7,4,4,13,19,3,1,3,6,9,7,4,6,2,5,14,4,17,6,2,4,14,12,4,2,13,12,1,12,4,5,1,7,11,14,3,8,2,6,5,6,4,2,3,5,1,4,5,3,14,5,9,0,2,1,11,10,5,8,4,3,2,5,0,26,0,2,3,12,3,3,1,2,8,2,3,2,6,2,3,9,7,6,4,6];
    // var data_weibo  =[0,0,0,0,0,0,0,0,0,0,0,3,1,3,2,2,1,0,2,1,0,0,4,3,2,1,4,4,4,11,19,18,34,26,18,18,10,5,13,1,1,0,1,0,1,0,1,3,2,1,6,8,4,6,6,5,5,4,2,2,11,8,9,4,2,0,0,0,0,1,1,1,2,6,12,7,9,5,2,1,5,3,2,3,1,1,2,0,0,0,0,0,0,0,0,2,0,3,2,2,7,2,2,4,0,2,0,1,0,0,0,0,0,0,1,0,1,0,0,1,1,0,0,0,0,1,0,0,1,1,0,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,2,2,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,1,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    //微博数*10
    var data_weibo = [0,0,0,0,0,0,0,0,0,0,0,30,10,30,20,20,10,0,20,10,0,0,40,30,20,10,40,40,40,110,190,180,340,260,180,180,100,50,130,10,10,0,10,0,10,0,10,30,20,10,60,80,40,60,60,50,50,40,20,20,110,80,90,40,20,0,0,0,0,10,10,10,20,60,120,70,90,50,20,10,50,30,20,30,10,10,20,0,0,0,0,0,0,0,0,20,0,30,20,20,70,20,20,40,0,20,0,10,0,0,0,0,0,0,10,0,10,0,0,10,10,0,0,0,0,10,0,0,10,10,0,20,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,10,10,10,0,0,20,20,10,0,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,10,0,0,0,0,0,10,10,0,0,0,0,0,0,0,0,0,0,10,0,10,0,0,0,10,10,0,0,10,10,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var data_twitter = [11,11,8,2,10,15,11,18,12,8,18,24,28,17,16,41,33,45,31,21,19,23,28,17,360,58,52,21,28,34,38,29,64,79,56,70,70,94,80,75,69,85,36,43,51,55,28,30,26,33,17,15,19,23,27,15,26,19,20,17,22,26,25,22,34,24,56,25,26,24,35,18,16,17,21,9,20,17,20,15,21,17,14,23,26,25,50,22,24,24,17,25,12,14,12,12,16,22,15,11,6,12,6,20,11,8,16,17,18,14,14,8,16,12,16,18,20,10,5,9,5,8,6,8,16,7,20,26,16,6,7,14,13,17,11,29,22,22,23,23,8,9,5,8,11,5,1,6,11,10,7,6,16,4,13,7,6,10,8,7,24,17,13,4,6,7,9,3,2,5,5,7,5,5,7,4,6,4,4,7,4,4,3,9,3,1,3,6,9,7,4,6,2,5,4,4,7,6,2,4,4,2,4,2,3,2,1,2,4,5,1,7,11,14,3,8,2,6,5,6,4,2,3,5,1,4,5,3,4,5,9,0,2,1,11,10,5,8,4,3,2,5,0,6,0,2,3,2,3,3,1,2,8,2,3,2,6,2,3,9,7,6,4,6];

    for (var i = 0; i < data_twitter.length; i++) {
        var now = new Date(base += oneHour);
        date.push([now.getFullYear(), now.getMonth()+1, now.getDate()].join('/')+' '+now.getHours()+'时');
    }

    option = {
        tooltip: {
            trigger: 'axis',
            position: function (pt) {
                return [pt[0], '10%'];
            }
        },
        title: {
            left: 'center',
            text: '沙特授予机器人公民身份事件传播趋势图'
        },
        legend: {
//            data:date
            data:['全部','新浪微博','Twitter'],
            x: 'right',
            selected: {
                '新浪微博' : false,
                'Twitter':false
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
//        toolbox: {
//            feature: {
//                dataZoom: {
//                    yAxisIndex: 'none'
//                },
//                restore: {},
//                saveAsImage: {}
//            }
//        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: date
        },
        yAxis: {
            type: 'value',
            boundaryGap: [0, '40%']
        },
        dataZoom: [{
            type: 'inside',
            start: 0,
            end: 10
        }, {
            start: 0,
            end: 10,
            handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
            handleSize: '80%',
            handleStyle: {
                color: '#fff',
                shadowBlur: 3,
                shadowColor: 'rgba(0, 0, 0, 0.6)',
                shadowOffsetX: 2,
                shadowOffsetY: 2
            }
        }],
        series: [
            {
                name:'新浪微博',
                type:'line',
                smooth:true,
                symbol: 'none',
                sampling: 'average',
                itemStyle: {
                    normal: {
                        color: 'rgb(37, 147, 199)'
                    }
                },
                data: data_weibo,
                show:false
            },
            {
                name:'Twitter',
                type:'line',
                smooth:true,
                symbol: 'none',
                sampling: 'average',
                itemStyle: {
                    normal: {
                        color: 'rgb(68, 168, 75)'
                    }
                },
                data: data_twitter,
                show:false
            },
            {
                name:'全部',
                type:'line',
                smooth:true,
                symbol: 'none',
                sampling: 'average',
                itemStyle: {
                    normal: {
                        color: 'rgb(254, 54, 64)'
                    }
                },
                data: data_total,
                show:true
            }

        ]
    };


    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>
</body>
</html>