<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>传播事件简介</title>
    #parse("sys/mulheader.html")
    <link rel="stylesheet" href="${rc.contextPath}/statics/css/bigdata-style.css">
    <script src="${rc.contextPath}/statics/libs/echarts.js"></script>
</head>
<body>
<div id="wrapper">
    <div class="wrapper wrapper-content">
        <div class="row"> <!-- /.row -->
            <div class="col-lg-7 col-sm-7 col-md-7">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>三个媒体传播分析</h5>
                        <span class="label label-primary"></span>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content inspinia-timeline" style="display: block;height:300px;">
                        <div id="main1" style="width: 100%;height:100%;float: left"></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-5 col-sm-5 col-md-5">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>谣言事件简介</h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content inspinia-timeline" style="display: block;height: 300px">
                        <div class="feed-element">
                            <div class="media-body " style="padding-top: 20px">
                                <strong style="font-size: 18px;color:#5e6e7e;display: inline-block;margin-bottom: 10px;">最新国际通用报警求助手势？假的！ 目前还是SOS</strong> <br>
                                <small class="text-muted"><a href="http://tech.sina.com.cn/d/i/2017-10-27/doc-ifynfvar4425645.shtml" style="font-size: 13px;font-family: 宋体;">来源：新浪微博 发布于2016/4/11</a></small>
                                <img src="${rc.contextPath}/statics/pic/influ_info.jpg" width="30%" height="auto" style="float: right;">
                                <br>

                                <p style="font-size: 16px;font-family: 宋体;padding-top: 15px;color:#5e6e7e;text-indent: 2em;">【国际通用报警手势？警方：没这回事】
                                    近日朋友圈疯传“最新设计的国际通用报警求助手势”。此手势形状既像中国报警号码110又像美国报警电话911，所以国际通用。
                                    对此警方表示，没有听说过此事，并郑重提醒市民：遇到危险请及时拨打110。
                                </p>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row"> <!-- /.row -->
            <!--传播趋势图-->
            <div class="col-lg-12 col-sm-12 col-md-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>传播关键信息</h5>
                        <span class="label label-primary"></span>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="fa fa-wrench"></i>
                            </a>
                            <a class="close-link">
                                <i class="fa fa-times"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content inspinia-timeline" style="display: block;">
                        <div id="main2" style="width: 100%;height:400px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var myChart1 = echarts.init(document.getElementById('main1'));

    // 指定图表的配置项和数据
    var option1 = {
        title: {
          //  text: '三种媒体传播分析',
            //subtext: 'Top8',
            left: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b}: {c} ({d}%)"
        },
        legend: {
            orient: 'vertical',
            x: 'left',
            data:['微博辟谣','微博谣言','微信辟谣','微信谣言','网媒辟谣','网媒谣言']
        },
        series: [{
            name: '传播占比',//里面饼图的字
            type: 'pie',
            selectedMode: 'single',
            radius: [0, '30%'],
            center: ['50%', '40%'],

            label: {
                normal: {
                    position: 'inner'
                }
            },
            labelLine: {
                normal: {
                    show: false
                }
            },
            data: [{
                value: 343,
                name: '微博',
                selected: true
            },
                {
                    value: 1684,
                    name: '微信'//里面饼图的字
                },
                {
                    value: 343,
                    name: '网媒'
                }
            ]
        },

            {
                name:'关键信息',//外面显示的
                type:'pie',
                radius: ['40%', '55%'],
                center: ['50%', '40%'],

                data: [
                    {value:298, name:'微博辟谣'},
                    {value:45, name:'微博谣言'},
                    {value:1476, name:'微信辟谣'},
                    {value:24, name:'微信谣言'},
                    {value:343, name:'网媒辟谣'},
                    {value:0, name:'网媒谣言'}
                ]
            }
        ]
    };
    // 使用刚指定的配置项和数据显示图表。
    myChart1.setOption(option1);
</script>
<script type="text/javascript">
    var myChart2 = echarts.init(document.getElementById('main2'));

    // 指定图表的配置项和数据
    myChart2.showLoading();


    var data2 = [{
        name: "国际通用报警求助手势",
        label: {
            normal: {
                backgroundColor: '#725bb8'//第一个框的颜色
            }
        },
        children: [{
            name: "微博",
            children: [
                {
                    name:"微博谣言",
                    children:[{
                        name: "警察叔叔说如果出行遇到危险，遇到某些危机情况不方便报警的，请暗示这个手势！国际通用！ 38条相同"
                    }]
                },
                {
                    name: "微博辟谣"   ,
                    children: [{
                        name: "不为大众所知的报警方式只会害人  64条相同"
                    }]
                }]
        }, {
            name: "微信",
            children: [
                {
                    name:"微信谣言",
                    children:[{
                        name: "紧急情况下请用这个手势,可能会救你一命"
                    }]
                },
                {
                    name:"微信辟谣",
                    children:[{
                        name: "国际通用报警求助手势是假的/不靠谱"
                    }]
                }]
        },
            {
                name: "网媒",
                children: [{
                    name: "网媒无谣言"
                }, {
                    name: "网媒辟谣"   ,
                    children: [{
                        name: "网传“最新国际通用报警救助手势” 网警:不认识    17次  新民网首发"
                    }, {
                        name: "同时竖食指、中指和小指是报警求助手势?别闹     17次  新浪新闻首发"
                    }, {
                        name: "警方辟谣:网传最新国际通用报警求助手势不靠谱   23次  中国广播网首发"
                    }]
                }]
            }]
        ,}];

    myChart2.hideLoading();

    myChart2.setOption(option2 = {
        backgroundColor: '#FFF',//整个页面背景色
        title: {
           // text: '三种媒体传播关键信息',
            textStyle: {
                fontSize: 22,
                fontWeight: 'bolder',
                color: '#333'          // 主标题文字颜色
            },
            //subtext: 'Top8',
            left: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: '{b}'
        },
        legend: {
            top: '2%',
            left: '3%',
            bottom: '2%',
            orient: 'radial',
            data: [{
                name: '国际报警通用求助手势',
                textStyle: {
                    fontSize: 14,
                    fontWeight: 'bolder',
                    color: '#333'          // 主标题文字颜色
                },
                icon: 'rectangle'
            },{
                name: '关键传播信息',
                textStyle: {
                    fontSize: 14,
                    fontWeight: 'bolder',
                    color: '#333'          // 主标题文字颜色
                },
                icon: 'rectangle'
            }],
            selected:{
                '国际报警通用求助手势':true,
                '关键传播信息':false
            },
            textStyle:{
                color:'#000'//字体颜色左上角
            }
        },
        series: [{
            type: 'tree',
            name: '国际报警通用求助手势',
            data: data2,
            top: '1%',
            right: '50%',
            symbolSize: 1,
            initialTreeDepth: 10,
            label: {
                normal: {
                    position: 'center',
                    verticalAlign: 'middle',
                    align: 'left',
                    backgroundColor: '#7049f0',//框的背景色(  叶子的框   )
                    color: '#FFF',
                    padding: 3,
                    formatter: [
                        '{box|{b}}'
                    ].join('\n'),
                    rich: {
                        box: {
                            height: 35,
                            color: '#FFE1FF',//叶子字体颜色
                            padding: [0, 5],
                            align: 'center'
                        }
                    }
                }
            },
            leaves: {
                label: {
                    normal: {
                        position: 'center',
                        verticalAlign: 'middle',
                        align: 'left',
                        backgroundColor: '#394056',
                        formatter: [
                            '{box|{b}}'
                        ].join('\n'),
                        rich: {
                            box: {
                                height: 20,
                                color: '#FFF',
                                padding: [0, 5],
                                align: 'center'
                            }
                        }
                    }
                }
            },
            expandAndCollapse: true,
            animationDuration: 550,
            animationDurationUpdate: 750
        },
            {
                type: 'tree',
                name: '关键传播信息',
                data: data2,
                top: '1%',
                right: '50%',
                symbolSize: 1,
                initialTreeDepth: 10,
                label: {
                    normal: {
                        position: 'center',
                        verticalAlign: 'middle',
                        align: 'left',
                        backgroundColor: '#394056',
                        color: '#FFF',
                        padding: 3,
                        formatter: [
                            '{box|{b}}'
                        ].join('\n'),
                        rich: {
                            box: {
                                height: 30,
                                color: '#394056',
                                padding: [0, 5],
                                align: 'center'
                            }
                        }
                    }
                },

                leaves: {
                    label: {
                        normal: {
                            position: 'center',
                            verticalAlign: 'middle',
                            align: 'left',
                            backgroundColor: '#394056',
                            formatter: [
                                '{box|{b}}'
                            ].join('\n'),
                            rich: {
                                box: {
                                    height: 18,
                                    color: '#394056',
                                    padding: [0, 5],
                                    align: 'center'
                                }
                            }
                        }
                    }
                },
                expandAndCollapse: true,
                animationDuration: 550,
                animationDurationUpdate: 750
            }
        ]
    });
    myChart2.on('legendselectchanged', function (params) {
        // 获取点击图例的选中状态
        var isSelected = params.selected[params.name];
        // 在控制台中打印
        console.log((isSelected ? '选中了' : '取消选中了') + '图例' + params.name);
        // 打印所有图例的状态
        console.log(params.selected);
    })


    // 使用刚指定的配置项和数据显示图表。
    myChart2.setOption(option2);
</script>
</body>
</html>